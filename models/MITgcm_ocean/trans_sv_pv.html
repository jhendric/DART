<HTML>
<HEAD>
<TITLE>program trans_sv_pv</TITLE>
<link rel="stylesheet" type="text/css" href="../../doc/html/doc.css"></link> 
</HEAD>
<BODY>
<!--
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!                                                                       !!
!!                   GNU General Public License                          !!
!!                                                                       !!
!! This file is part of the Data Assimilation Research Testbed (DART).   !!
!!                                                                       !!
!! DART is free software; you can redistribute it and/or modify          !!
!! it and are expected to follow the terms of the GNU General Public     !!
!! License as published by the Free Software Foundation.                 !!
!!                                                                       !!
!! DART is distributed in the hope that it will be useful,               !!
!! but WITHOUT ANY WARRANTY; without even the implied warranty of        !!
!! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         !!
!! GNU General Public License for more details.                          !!
!!                                                                       !!
!! You should have received a copy of the GNU General Public License     !!
!! along with DART; if not, write to:                                    !!
!!          Free Software Foundation, Inc.                               !!
!!          59 Temple Place, Suite 330                                   !!
!!          Boston, MA  02111-1307  USA                                  !!
!! or see:                                                               !!
!!          http://www.gnu.org/licenses/gpl.txt                          !!
!!                                                                       !!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-->

<DIV ALIGN=CENTER>
<A HREF="#Namelist">NAMELIST</A> / 
<A HREF="#FilesUsed">FILES</A> /
<A HREF="#References">REFERENCES</A> /
<A HREF="#Errors">ERRORS</A> /
<A HREF="#KnownBugs">BUGS</A> /
<A HREF="#FuturePlans">PLANS</A>
</DIV>

<!--==================================================================-->

<H1>PROGRAM trans_sv_pv</H1>
<A NAME="HEADER"></A>
<TABLE summary="">
<TR><TD>Contact:       </TD><TD> Tim Hoar     </TD></TR>
<TR><TD>Revision:      </TD><TD> $Revision$ </TD></TR>
<TR><TD>Source:        </TD><TD> $URL$ </TD></TR>
<TR><TD>Change Date:   </TD><TD> $Date$ </TD></TR>
<TR><TD>Change history:</TD><TD> try "svn log" or "svn diff" </TD></TR>
</TABLE>

<!--==================================================================-->

<A NAME="OVERVIEW"></A>
<HR>
<H2 class="indent1">OVERVIEW</H2>
<P class="indent1">
   <em class="program">trans_sv_pv</em> is responsible for converting a DART
   'initial conditions' file to a set of model 'snapshot' files. 
   This is easier than the reverse process because the DART initial conditions file
   have a header that contains the valid time for the accompanying state.
   <BR><BR>
   The input filename is hardwired to that expected by 
   <em class="program">filter</em> and the output filenames are able to be
   parsed into an appropriate 
   <em class="file">data.cal</em><em class="unix">&#38;CAL_NML</em> namelist
   and can be used as input to the
   <em class="file">data</em><em class="unix">&#38;PARM05</em> namelist specifying
   the filenames to use to cold-start the ocean model. 
   <em class="program">trans_sv_pv</em> also creates a new  
   <em class="file">data.cal</em> to reflect the (new) starting date of the model. 
   <BR>
   <BR>
   The output filename is comprised of 4 parts: the variable name, the startDate_1
   component (YYYYMMDD), the startDate_2 component (HHMMSS), and the extension (.data
   for the data and .meta for the metadata). The startDate_1 and startDate_2 pieces
   are identical in format to that used by identically named variables in the 
   <em class="file">data.cal</em><em class="unix">&#38;CAL_NML</em> namelist.
</P>

<H2 class="indent1">Usage</H2>
<P class="indent1">
   There must be several input files in the current working directory;
   most of these are required by the <em class="unix">model_mod</em>
   interface.  The input filename is hardwired to
   <em class="file">assim_model_state_ic</em>.
   Assuming the time tag in the input file is set to 06Z&nbsp;23&nbsp;July&nbsp;1996, this 
   example creates output files named<br>
   <em class="file">S.19960723.060000.[data,meta]</em><br>
   <em class="file">T.19960723.060000.[data,meta]</em><br>
   <em class="file">U.19960723.060000.[data,meta]</em><br>
   <em class="file">V.19960723.060000.[data,meta]</em><br>
   <em class="file">Eta.19960723.060000.[data,meta]</em>, and<br>
   <em class="file">data.cal.new</em>
   <div class="unix">
   mv some_DART_ics_input_file assim_model_state_ic<br>
   ./trans_sv_pv <br>
   cp data.cal.new data.cal
   </div><br>
</P>

<!--==================================================================-->

<A NAME="OTHER MODULES USED"></A>
<HR>
<H2 class="indent1">OTHER MODULES USED</H2>
<PRE class="indent1">
types_mod
utilities_mod
model_mod
assim_model_mod
time_manager_mod
</PRE>

<A NAME="Namelist"></A>
<HR>
<H2 class="indent1">NAMELIST</H2>
<P class="indent1">
This program has no namelist of its own, but some of the underlying modules 
require namelists to be read, even if the values are not used.
To avoid duplication and, possibly, some inconsistency
in the documentation; only a list of the required namelists is provided -
with a hyperlink to the full documentation for each namelist.
</P>

<TABLE border=0 cellpadding=3 width=100% class="indent1">
<TR><TH align="left">Namelist</TH><TH align="left">Primary Purpose</TH></TR>
<TR><TD><a 
    href="../../utilities/utilities_mod.html#Namelist">utilities_nml</a></TD>
    <TD>set the termination level and file name for the run-time log</TD></TR>

<TR><TD><a href="model_mod.html#namelist_cal_nml">CAL_NML</a></TD>
    <TD>must be read, values are not used</TD></TR>

<TR><TD><a href="model_mod.html#namelist_parm03">PARM03</a></TD>
    <TD>must be read, values are not used</TD></TR>

<TR><TD><a href="model_mod.html#namelist_parm04">PARM04</a></TD>
    <TD>ocean model grid parameters</TD></TR>
</table>

<!--==================================================================-->
<!-- Describe the Files Used by this module.                          -->
<!--==================================================================-->

<A NAME="FilesUsed"></A>
<HR>
<H2 class="indent1">FILES</H2>
<UL class="indent1">
    <LI>input namelist files: <em class="file">data, data.cal, input.nml</em></LI>
    <LI>output namelist file: <em class="file">data.cal.new</em></LI>
    <LI>input data file: <em class="file">assim_model_state_ic</em></LI>
    <LI>output data files: 
       <em class="file">[S,T,U,V,Eta].YYYYMMDD.HHMMSS.[data,meta]</em></LI>
</UL>

<!--==================================================================-->
<!-- Cite references, if need be.                                     -->
<!--==================================================================-->

<A NAME="References"></A>
<HR>
<H2 class="indent1">REFERENCES</H2>

<!--==================================================================-->
<!-- Describe all the error conditions and codes.                     -->
<!-- Putting a <BR> after the synopsis creates a nice effect.         -->
<!--==================================================================-->

<A NAME="Errors"></A>
<HR>
<H2 class="indent1">ERROR CODES and CONDITIONS</H2>
<P class="indent1">There are no error conditions specific to 
<em class="program">trans_sv_pv</em>.
</P>
</div>

<!--==================================================================-->
<!-- Describe the bugs.                                               -->
<!--==================================================================-->

<A NAME="KnownBugs"></A>
<HR>
<H2 class="indent1">KNOWN BUGS</H2>
<P class="indent1">
There are no known bugs.
</P>

<!--==================================================================-->
<!-- Descibe Future Plans.                                            -->
<!--==================================================================-->

<A NAME="FuturePlans"></A>
<HR>
<H2 class="indent1">FUTURE PLANS</H2>
<P class="indent1">
None at this time. Feel free to suggest improvements.
</P>

<!--==================================================================-->

</BODY>
</HTML>
