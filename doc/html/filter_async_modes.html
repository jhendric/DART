<HTML>
<HEAD>
<TITLE>Dart Filter/Model Parallel Mode Options</TITLE>
<link rel="stylesheet" type="text/css" href="doc.css"></link> 
</HEAD>
<BODY>

<!--==================================================================-->

<img src = "../../images/Dartboard4.gif" align="center" alt="snappy DART image"></img>
<br> 

<A NAME="HEADER"></A>
<TABLE summary="">
<TR><TD>Contact:       </TD><TD> Nancy Collins, Jeff Anderson</TD></TR>
<TR><TD>Revision:      </TD><TD> $Revision$ </TD></TR>
<TR><TD>Source:        </TD><TD> $URL$ </TD></TR>
<TR><TD>Change Date:   </TD><TD> $Date$ </TD></TR>
<TR><TD>Change history:</TD><TD> try "svn log" or "svn diff" </TD></TR>
</TABLE>

<!--==================================================================-->

<H2>Options for parallelism both in DART and in the model advances:</H2>

<big>
<br> 
<a name=async0></a>
<br>
Simplest case, async=0:
<br>
<img src="async0.gif"></img>
<br>
This is a single MPI executable, with each call to the
model being simply a subroutine call from each MPI task.
<br>
<br>
<a href="mpi_intro.html#async0">back to the mpi intro document</a>
<br>
<br>
<br>
<a name=async2></a>
<br>
Parallel advance, async=2:
<br>
<img src="async2a.gif"></img>
<br>
The filter executable is one MPI program, and the model is a 
single, sequential executable.   Each MPI task uses the
unix "system()" call to invoke a shell script (advance_model.csh)
which runs the models as independent programs.
<br>
<br>
<a href="mpi_intro.html#async2">back to the mpi intro document</a>
<br>
<br>
Other views of how the async=2 option is structured; these
may be more or less helpful.
<br>
Parallel advance, async=2:
<br>
<img src="async2_v1.gif"></img>
<br>
<br>
<br>
Parallel advance, async=2, second version:
<br>
<img src="async2_v2.gif"></img>
<br>
<br>
<br>
Parallel model advance, async=2, showing how data is communicated
between filter and the model thru intermediate files.  
IC are 'initial condition' files, UD are 'updated' files.
<br>
<img src="async2_wfiles.gif"></img>
<br>
<br>
<br>
<a name=async4></a>
<br>
Parallel model advance, async=4:
<br>
<img src="async4.gif"></img>
<br>
The filter executable is one MPI program, and the model is also
an MPI program.  The filter executable communicates with the
runme_filter shell script, which sequentially invokes mpirun
to advance each of the model runs, one per ensemble member,
still using advance_model.csh.
<br>
<br>
<a href="mpi_intro.html#async4">back to the mpi intro document</a>
<br>
<br>
<br>
Parallel model advance, async=4, showing how data is communicated
between filter and the model thru intermediate files.
IC are 'initial condition' files, UD are 'updated' files.
<br>
<img src="async4_wfiles.gif"></img>
<br>
<br>
<br>
<br>
</big>
</body>
</html>
