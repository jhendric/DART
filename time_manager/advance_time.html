<HTML>
<HEAD>
<TITLE>program advance_time</TITLE>
<link rel="stylesheet" type="text/css" href="../doc/html/doc.css"></link> 
</HEAD>
<BODY>
<!--
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!                                                                       !!
!!                   GNU General Public License                          !!
!!                                                                       !!
!! This file is part of the Data Assimilation Research Testbed (DART).   !!
!!                                                                       !!
!! DART is free software; you can redistribute it and/or modify          !!
!! it and are expected to follow the terms of the GNU General Public     !!
!! License as published by the Free Software Foundation.                 !!
!!                                                                       !!
!! DART is distributed in the hope that it will be useful,               !!
!! but WITHOUT ANY WARRANTY; without even the implied warranty of        !!
!! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         !!
!! GNU General Public License for more details.                          !!
!!                                                                       !!
!! You should have received a copy of the GNU General Public License     !!
!! along with DART; if not, write to:                                    !!
!!          Free Software Foundation, Inc.                               !!
!!          59 Temple Place, Suite 330                                   !!
!!          Boston, MA  02111-1307  USA                                  !!
!! or see:                                                               !!
!!          http://www.gnu.org/licenses/gpl.txt                          !!
!!                                                                       !!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-->

<DIV ALIGN=CENTER>
<A HREF="#Interface">INTERFACE</A> / 
<A HREF="#Usage">USAGE</A> / 
<A HREF="#Errors">ERRORS</A> /
<A HREF="#KnownBugs">BUGS</A> /
<A HREF="#FuturePlans">PLANS</A> /
</DIV>

<!--==================================================================-->

<H1>PROGRAM advance_time</H1>
<A NAME="HEADER"></A>

<!--==================================================================-->

<A NAME="OVERVIEW"></A>
<HR>
<H2>OVERVIEW</H2>

<P>
Provides a shell-scripting-friendly way to increment and decrement
calendar dates and times. The code uses the standard DART time
manager for all time calculations.
</P> <P>
A date, an increment or decrement, and an optional output formatting 
flag are read from standard input. Increments can be days, hours,
minutes, or seconds.  The accuracy is to the second.  The resulting 
output time string is echoed to standard output.  For example:
<pre>
echo 2007073012 12 | advance_time
</pre>
will output the string 2007073100.
It uses the Gregorian calendar and will roll over month and year
boundaries, both going forward and backwards in time.  See the
Usage section below for more examples of use.
</P> <P>
The program is general purpose, but based on a time program
distributed with the WRF model.  This is the reason there are
a few WRF specific options, for example the '-w' flag outputs
a date string in a WRF-specific format, useful for creating
WRF filenames.
</P> <P>
The program does require that an 'input.nml' namelist file
exist in the current directory, and at least a &utilities_nml
namelist (which can be empty) exists.
</P>


<!--==================================================================-->

<A NAME="OTHER MODULES USED"></A>
<BR><HR><BR>
<H2>OTHER MODULES USED</H2>
<PRE>
utilities_mod
time_manager_mod
parse_args_mod
</PRE>

<H3 class=indent1>NOTES</H3>

<P>
No program-specific namelist used at this time.
<!-- Optional namelist interface  -->
<!-- <A HREF="#Namelist"><em class=code>&#38;time_manager_mod_nml</em> </A> -->
<!-- may be read from file <em class=file>input.nml</em>. -->
</P>

<!--==================================================================-->

<A NAME="Usage"></A>
<BR><HR><BR>
<H2>USAGE</H2>
<BR>

<P>
Interface identical to advance_cymdh, except for reading the arg line
from standard input, to be more portable since iargc() is nonstandard across
different fortran implementations.
<UL>
<LI>default numeric increment is hours</LI>
<LI>has accuracy down to second</LI>
<LI>can use day/hour/minute/second (with/without +/- sign) to advance time</LI>
<LI>can digest various input date format if it still has the right order (ie. cc yy mm dd hh nn ss)</LI>
<LI>can digest flexible time increment</LI>
<LI>can output in wrf date format (ccyy-mm-dd_hh:nn:ss)</LI>
<LI>can specify output date format</LI>
<LI>can output Julian day</LI>
<LI>can output Gregorian days and seconds (since year 1601)</LI>
</UL>
</P> <P>
Some examples:
<pre>
advance 12 h:
  echo 20070730      12         | advance_time    

back 1 day 2 hours 30 minutes and 30 seconds:
  echo 2007073012   -1d2h30m30s | advance_time    

back 3 hours 30 minutes less 1 second:
  echo 2007073012    1s-3h30m   | advance_time    

advance 2 days and 1 second, output in wrf date format :
  echo 200707301200  2d1s -w    | advance_time    
  echo 2007-07-30_12:00:00 2d1s -w  | advance_time  
  echo 200707301200  2d1s -f ccyy-mm-dd_hh:nn:ss | advance_time 

advance 120 h, and print year and Julian day:
  echo 2007073006    120 -j     | advance_time    

advance 120 h, print year, Julian day, hour, minute and second:
  echo 2007073006    120 -J     | advance_time    

print Gregorian day and second (since year 1601):
  echo 2007073006    0 -g       | advance_time    
</pre>

</P> <P>

</P>


<!--============== DESCRIPTION OF A NAMELIST ========================-->
 <A NAME="Namelist"></A>
<BR><HR><BR>
<H2>NAMELIST</H2>
 <P> No namelist is currently defined for the advance_time code.
 <BR>


<!--==================================================================-->
<!-- Describe all the error conditions and codes.                     -->
<!-- Putting a <BR> after the synopsis creates a nice effect.         -->
<!--==================================================================-->

<A NAME="Errors"></A>
<HR>
<H2>ERROR CODES and CONDITIONS</H2>
<div class="errors">
<TABLE border=1 cellspacing=1 cellpadding=10 width=100%>
<TR><TH>Routine</TH><TH>Message</TH><TH>Comment</TH></TR>

<TR><!-- routine --><TD VALIGN=top></TD>
    <!-- message --><TD VALIGN=top></TD>
    <!-- comment --><TD VALIGN=top></TD>
</TR>

</TABLE>
</div>

<!--==================================================================-->
<!-- Describe the bugs.                                               -->
<!--==================================================================-->

<A NAME="KnownBugs"></A>
<BR><HR><BR>
<H2>KNOWN BUGS</H2>
<P>
none
</P>

<!--==================================================================-->
<!-- Descibe Future Plans.                                            -->
<!--==================================================================-->

<A NAME="FuturePlans"></A>
<BR><HR><BR>
<H2>FUTURE PLANS</H2>
<P>
none
</P>

<!--==================================================================-->

<HR>
<TABLE summary="">
<TR><TD>Contact:       </TD><TD> Jeff Anderson, Tim Hoar </TD></TR>
<TR><TD>Revision:      </TD><TD> $Revision$ </TD></TR>
<TR><TD>Source:        </TD><TD> $URL$ </TD></TR>
<TR><TD>Change Date:   </TD><TD> $Date$ </TD></TR>
<TR><TD>Change history:</TD><TD> try "svn log" or "svn diff" </TD></TR>
</TABLE>
<HR>
</BODY>
</HTML>
