<!--
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!                                                                       !!
!!                   GNU General Public License                          !!
!!                                                                       !!
!! This file is part of the Data Assimilation Research Testbed (DART).   !!
!!                                                                       !!
!! DART is free software; you can redistribute it and/or modify          !!
!! it and are expected to follow the terms of the GNU General Public     !!
!! License as published by the Free Software Foundation.                 !!
!!                                                                       !!
!! DART is distributed in the hope that it will be useful,               !!
!! but WITHOUT ANY WARRANTY; without even the implied warranty of        !!
!! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         !!
!! GNU General Public License for more details.                          !!
!!                                                                       !!
!! You should have received a copy of the GNU General Public License     !!
!! along with DART; if not, write to:                                    !!
!!          Free Software Foundation, Inc.                               !!
!!          59 Temple Place, Suite 330                                   !!
!!          Boston, MA  02111-1307  USA                                  !!
!! or see:                                                               !!
!!          http://www.gnu.org/licenses/gpl.txt                          !!
!!                                                                       !!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-->

<HTML>
<TITLE>module random_nr_mod</TITLE>
<link rel=stylesheet type=text/css href=../doc/html/doc.css>
<BODY>

<!--kdr NAMELIST, PLANS, PRIVATE COMPONENTS have no destination -->
<DIV ALIGN=CENTER>
<A HREF="#Interface">INTERFACE</A> / 
<A HREF="#PublicEntities">PUBLIC COMPONENTS</A> / 
<A HREF="#Namelist">NAMELIST</A> / 
<A HREF="#FilesUsed">FILES</A> /
<A HREF="#References">REFERENCES</A> /
<A HREF="#Errors">ERRORS</A> /
<A HREF="#KnownBugs">BUGS</A> /
<A HREF="#FuturePlans">PLANS</A> /
<A HREF="#PrivateComponents">PRIVATE COMPONENTS</A>
</DIV>

<!--==================================================================-->

<H1>MODULE random_nr_mod</H1>
<A NAME="HEADER"></A>
<TABLE summary="">
   <TR><TD>Contact:       </TD><TD> Jeff Anderson                </TD></TR>
   <TR><TD>Reviewers:     </TD><TD> &nbsp;                       </TD></TR>
   <TR><TD>Revision:      </TD><TD> $Revision$             </TD></TR>
   <TR><TD>Release Name:  </TD><TD> $Name$                       </TD></TR>
   <TR><TD>Change Date:   </TD><TD> $Date$ </TD></TR>
   <TR><TD>Change history:</TD><TD> see CVS log                  </TD></TR>
</TABLE>

<!--==================================================================-->

<A NAME="OVERVIEW"></A>
<HR>
<H2>OVERVIEW</H2>

<P>
A linear congruential random number generator (see Knuth). The values for
the parameters are the same as those used in numerical recipes.
</P>
<P>
</P>

<!--==================================================================-->

<A NAME="OTHER MODULES USED"></A>
<BR><HR><BR>
<H2>OTHER MODULES USED</H2>
<PRE>
types_mod
utilities_mod
</PRE>

<!--==================================================================-->
<!--Note to authors. The first row of the table is different.         -->

<A NAME="Interface"></A>
<BR><HR><BR>
<H2>PUBLIC INTERFACE</H2>

<TABLE>
<TR><TD><em class=call>use random_nr_mod, only : </em></TD>
                   <TD><A HREF="#random_seq_type">random_seq_type</A></TD></TR>
<TR><TD>&nbsp;</TD><TD><A HREF="#init_ran1">init_ran1</A></TD></TR>
<TR><TD>&nbsp;</TD><TD><A HREF="#ran1">ran1</A></TD></TR>
<TR><TD>&nbsp;</TD><TD><A HREF="#gasdev">gasdev</A></TD></TR>
</TABLE>

<H3 class=indent1>NOTES</H3>

<!--==================================================================-->
<!-- Declare all public entities ...                                  -->
<!-- duplicate public routines template as many times as necessary    -->
<!-- make sure you replace all yyyroutine?? strings                   -->
<!--==================================================================-->

<A NAME="PublicEntities"></A>
<BR><HR><BR>
<H2>PUBLIC COMPONENTS</H2>
</P>

<!--=================== DESCRIPTION OF A LOCAL TYPE ==================-->

<A NAME="random_seq_type"></A>
<BR><HR><BR>
<div class=type><pre>
<em class=call>type random_seq_type</em>
   private
   integer             :: ix1, ix2, ix3, iset
   real(r8)            :: r(97), gset
end type random_seq_type
</pre></div>

<H3 class=indent1>Description</H3>

<P>
Keeps the state history of the linear congruential number generator.
See Knuth for details.
</P>

<!--===================== DESCRIPTION OF SUBROUTINE =====================-->

 <!--============= DESCRIPTION OF A SUBROUTINE =======================-->
 <A NAME="init_ran1"></A>
 <P></P><HR><P></P>
 <div class=routine>
 <em class=call> call init_ran1(s,temp) </em>
 <pre>
 type(random_seq_type), intent(out) :: <em class=code>s</em>
 integer, intent(in)                :: <em class=code>temp</em>
 </pre></div>
 <H3 class=indent1>Description</H3>
 <P>
Initializes a random sequence with an integer. Any sequence
initialized with the same integer will produce the same sequence
of 'random' numbers.
 </P>
 <TABLE width=100% border=0 summary="" celpadding=3>
 <TR><TD valign=top><em class=code>s&nbsp; &nbsp; </em></TD>
     <TD>A random sequence to be initialized</TD></TR>
 <TR><TD valign=top><em class=code>temp&nbsp; &nbsp; </em></TD>
     <TD>An integer seed to start the sequence.</TD></TR>
 </TABLE>
 <BR>

<!--============= DESCRIPTION OF A FUNCTION ========================-->
 <A NAME="ran1"></A>
 <P></P><HR><P></P>
 <div class=routine>
 <em class=call> var = ran1(s) </em>
 <pre>
 real(r8)                             :: <em class=code>ran1</em>
 type(random_seq_type), intent(inout) :: <em class=code>s</em>
 </pre></div>
 <H3 class=indent1>Description</H3>
 <P>
Generate the next uniform [0, 1] random number in the sequence.
 </P>
 <TABLE width=100% border=0 summary="" celpadding=3>
 <TR><TD valign=top><em class=code>ran1&nbsp; &nbsp; </em></TD>
     <TD>Next uniformly distributed [0, 1] number in sequence.</TD></TR>
 <TR><TD valign=top><em class=code>s&nbsp; &nbsp; </em></TD>
     <TD>A random sequence.</TD></TR>
 </TABLE>
 <BR>

<!--============= DESCRIPTION OF A FUNCTION ========================-->
 <A NAME="gasdev"></A>
 <P></P><HR><P></P>
 <div class=routine>
 <em class=call> var = gasdev(s) </em>
 <pre>
 real(r8)                             :: <em class=code>gasdev</em>
 type(random_seq_type), intent(inout) :: <em class=code>s</em>
 </pre></div>
 <H3 class=indent1>Description</H3>
 <P>
Generates a random draw from a standard gaussian.
 </P>
 <TABLE width=100% border=0 summary="" celpadding=3>
 <TR><TD valign=top><em class=code>gasdev&nbsp; &nbsp; </em></TD>
     <TD>A random draw from a standard gaussian.</TD></TR>
 <TR><TD valign=top><em class=code>s&nbsp; &nbsp; </em></TD>
     <TD>A random sequence.</TD></TR>
 </TABLE>
 <BR>

<!--==================================================================-->
<!-- Describe the Files Used by this module.                          -->
<!--==================================================================-->

<A NAME="FilesUsed"></A>
<BR><HR><BR>
<H2>FILES</H2>
<UL><LI>NONE
</UL>

<!--==================================================================-->
<!-- Cite references, if need be.                                     -->
<!--==================================================================-->

<A NAME="References"></A>
<BR><HR><BR>
<H2>REFERENCES</H2>
Knuth ???

<!--==================================================================-->
<!-- Describe all the error conditions and codes.                     -->
<!-- Putting a <BR> after the synopsis creates a nice effect.         -->
<!--==================================================================-->

<A NAME="Errors"></A>
<HR>
<H2>ERROR CODES and CONDITIONS</H2>
<div class="errors">
<TABLE border=1 cellspacing=1 cellpadding=10 width=100%>
<TR><TH>Routine</TH><TH>Message</TH><TH>Comment</TH></TR>

<TR><!-- routine --><TD VALIGN=top>ran1</TD>
    <!-- message --><TD VALIGN=top>Fatal error in random number</TD>
    <!-- comment --><TD VALIGN=top>This should probably be removed; should never happen.</TD>
</TR>

</TABLE>
</div>

<!--==================================================================-->
<!-- Describe the bugs.                                               -->
<!--==================================================================-->

<A NAME="KnownBugs"></A>
<BR><HR><BR>
<H2>KNOWN BUGS</H2>
<P>
</P>


<!--==================================================================-->
<!-- Have not fleshed out this part yet ... ha ha ha                  -->
<!--==================================================================-->

<!--==================================================================-->

<HR>
</BODY>
</HTML>
